<div class="page-wrapper chiller-theme employee-wrapper cust-wrap">
    <a id="show-sidebar" class="btn btn-sm btn-dark">
        <i class="fas fa-bars"></i>
    </a>
    <app-sidebar></app-sidebar>
    <!-- sidebar-wrapper  -->
    <main class="page-content">
        <app-header>
        </app-header>

        <ng-template  #mymodal let-modal>
                       
            <div class="modal-header">
              <h4 class="modal-title" id="modal-basic-title">Intake Form</h4>
              <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">Ã—</span>
              </button>
            </div>
            <div class="modal-body">
                  
                <form (ngSubmit)=ExchangeForm.form.valid&&addExchange() #ExchangeForm="ngForm">
                    <div class="white_wrapper">                      
                        <div class="c0l-12 form-bk-g">
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-inner-g">
                                    <div class="row">
                                    <div class="col-lg-8 col-md-12 col-sm-12 col-xs-12 form-inner-g">
                                        <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 form-inner-g">
                                            <div class="">
                                                <!-- <div class="flx_section"> -->
                                                <label class="peak-form-label">Select Contact</label>
                                                <div id="multiselect_custom">
                                                    <mat-form-field appearance="fill">
        
                                                        <mat-select [(ngModel)]="Exchanges.contactid" name="contactid"  #contactid="ngModel" tabindex="1" 
                                                            [ngClass]="{ 'is-invalid': ExchangeForm.submitted && contactid.invalid }"
                                                            required [ngModelOptions]="{standalone: true}">
        
                                                            <input placeholder="Please select contact" type="text" (keyup)="onSearchUsers($event)" class="peak-box-g" (keydown)="$event.stopPropagation()">
        
                                                            <mat-option *ngFor="let Contact of ClientContactDropdownList" value="{{Contact.userId}}">
                                                                {{Contact.fullName}} ({{Contact.contactType}})
                                                            </mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
        
        
                                                    <button type="button" class="btn select-btn" data-toggle="modal" data-target="#bank_profile">
                                                        <img src="../../../../assets/images/superadmin/escrow-icon.png">
                                                    </button>
                                                    <span> </span>
                                                    <div *ngIf="ExchangeForm.submitted && contactid.invalid" class="invalid-feedback">
                                                        <div *ngIf="Email.errors.required">Contact is required</div>
                                                    </div>
                                                </div>
        
                                            </div>
                                        </div>
        
                                        <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 form-inner-g">
                                          
                                            <div>
                                                <!-- <div class="flx_section"> -->
                                                <label class="peak-form-label">Settlement Agent / Escrow Officer Name
                                                    <span class="c-red">*</span>
                                                </label>
                                                <div id="multiselect_custom">
                                                    <mat-form-field appearance="fill">
                                                        <mat-select  [(ngModel)]="Exchanges.SettlementAgent" name="SettlementAgent"
                                                            #SettlementAgent="ngModel" [ngClass]="{ 'is-invalid': ExchangeForm.submitted && SettlementAgent.invalid }"
                                                            required [ngModelOptions]="{standalone: true}">
        
                                                            <input type="text" (keyup)="onSearchUsers($event)" tabindex="2" class="peak-box-g" (keydown)="$event.stopPropagation()">
                                                            <mat-option *ngFor="let Contact of SynergyContactDropdownList" value="{{Contact.firstName}}">
                                                                {{Contact.fullName}} ({{Contact.contactType}})
                                                            </mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
        
        
        
                                                    <button type="button" class="btn select-btn" data-toggle="modal" data-target="#bank_profile">
                                                        <img src="../../../../assets/images/superadmin/escrow-icon.png">
                                                    </button>
                                                    <div *ngIf="ExchangeForm.submitted && SettlementAgent.invalid" class="invalid-feedback">
                                                        <div *ngIf="SettlementAgent.errors.required">Officer Name is required</div>
                                                    </div>
        
                                                </div>
        
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 form-inner-g">
                                            <div>
                                                <!-- <div class="flx_section"> -->
                                                <label class="peak-form-label">City<span class="c-red">*</span></label>
                                                <div id="multiselect_custom">
                                                        <input type="text" placeholder="Enter city" tabindex="4" [(ngModel)]="Exchanges.city" name="city" class="peak-box-g"
                                                        #city="ngModel" >
                                                   
                                                      <div *ngIf="ExchangeForm.submitted && city.invalid" class="invalid-feedback">
                                                        <div *ngIf="city.errors.required">city Name is required</div>
                                                    </div>
        
                                                </div>
        
                                            </div>
                                        </div>
               <!-- state and pincode -->
                                        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 form-inner-g">
                                            <div>
                                                <!-- <div class="flx_section"> -->
                                                <label class="peak-form-label">State<span class="c-red">*</span></label>
                                                <div id="multiselect_custom">
                                                    <mat-form-field appearance="fill">
                                                        <mat-select tabindex="5" [(ngModel)]="Exchanges.state" name="state"
                                                            #state="ngModel"
                                                            required [ngModelOptions]="{standalone: true}">
                                                            <mat-option *ngFor="let stateslist of Statedata" value="{{stateslist.stateId}}">
                                                                {{stateslist.stateName}}
                                                            </mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
        
                                                    <div *ngIf="ExchangeForm.submitted && state.invalid" class="invalid-feedback">
                                                        <div *ngIf="state.errors.required">state Name is required</div>
                                                    </div>
        
                                                </div>
        
                                            </div>
                                        </div>
        <!-- city dropdown -->
                                          
                                      
        
                                        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 form-inner-g">
                                          
                                            <div class="peak-form">
                                                <label class="peak-form-label">Zip
                                                    <span class="c-red">*</span>
                                                </label>
                                                <input type="text" mask="000000" tabindex="6" placeholder="Enter Zip code"   [(ngModel)]="Exchanges.zip" name="zip" class="peak-box-g"
                                                #zip="ngModel" [ngClass]="{ 'is-invalid': ExchangeForm.submitted && zip.invalid }"
                                                required>
                                                <div *ngIf="ExchangeForm.submitted && zip.invalid" class="invalid-feedback">
                                                    <div *ngIf="zip.errors.required">zip code is required</div>
                                                </div>
                                            </div>
                                        </div>                                  
                                        </div> 
                                    </div> 
                                        <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 form-inner-g">
                                            <div class="peak-form">
                                                <label class="peak-form-label">Relinquished Property Address
                                                    <span class="c-red">*</span>
                                                </label>
                                                <textarea placeholder="Enter Address" tabindex="3" [(ngModel)]="Exchanges.RelinquishedAddress" name="RelinquishedAddress" class="peak-box-g peak-t-area"
                                                    #RelinquishedAddress="ngModel" [ngClass]="{ 'is-invalid': ExchangeForm.submitted && RelinquishedAddress.invalid }"
                                                    required></textarea>
                                                <div *ngIf="ExchangeForm.submitted && RelinquishedAddress.invalid" class="invalid-feedback">
                                                    <div *ngIf="RelinquishedAddress.errors.required">Address is required</div>
                                                </div>
                                            </div>
                
                                            
                                           
                                           
                                          
                                        </div>                                                        
                                       
        
                                    </div>
                                </div>
        
        
                                <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 form-inner-g">
                                    <div class="peak-form">
                                        <label class="peak-form-label">How do you hold title to the Property?
                                          
                                        </label>
                                        <input type="text"  placeholder="Enter Title" tabindex="7" [(ngModel)]="Exchanges.Propertytitle" name="Propertytitle" class="peak-box-g"
                                            #Propertytitle="ngModel" >
                                        
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 form-inner-g">
                                    <div class="peak-form">
                                        <label class="peak-form-label">Sales Price
                                           
                                        </label>
                                        <input type="text" prefix="$" separatorLimit="100000000000000000" [showMaskTyped]="true" mask="separator" thousandSeparator="," tabindex="9" min="0" max="9999999999999999" maxlength="30" oninput="this.value=this.value.slice(0,this.maxLength||1/0);this.value=(this.value   < 1) ? (1/0) : this.value;"
                                            placeholder="Enter Price" [(ngModel)]="Exchanges.SalesPrice" name="SalesPrice" class="peak-box-g"
                                            #SalesPrice="ngModel" [ngClass]="{ 'is-invalid': ExchangeForm.submitted && SalesPrice.invalid }"
                                            required>
                                       
                                    </div>
                                </div>
        
                                <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 form-inner-g">
                                    <div class="peak-form">
                                        <label class="peak-form-label">Approx.Current debt on property
                                      
                                        </label>
                                        <input type="text" prefix="$" separatorLimit="100000000000000000" [showMaskTyped]="true" mask="separator" thousandSeparator="," tabindex="8" min="0" max="9999999999999999" maxlength="30" oninput="this.value=this.value.slice(0,this.maxLength||1/0);this.value=(this.value   < 1) ? (1/0) : this.value;"
                                            placeholder="Enter Amount" [(ngModel)]="Exchanges.debt" name="debt" class="peak-box-g" #debt="ngModel">
                                       
                                    </div>
                                </div>
        
        
                               
        
                                <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12 form-inner-g">
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-inner-g">
                                            <div class="peak-form">
                                                <label class="peak-form-label">Referral Source
                                                  
                                                </label>
                                                <input type="text" tabindex="10"  placeholder="Enter referral source" [(ngModel)]="Exchanges.Referral" name="Referral" class="peak-box-g"
                                                    #Referral="ngModel" >
                                              
                                            </div>
                                        </div>
                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 form-inner-g">
                                            <div class="peak-form">
                                                <label class="peak-form-label">Enter expected closing date
                                                  
                                                </label>
                                                <dp-date-picker tabindex="11" placeholder="select date" [(ngModel)]="Exchanges.ClosingDate" name="ClosingDate" theme="dp-material" [config]="datePickerConfig"
                                                    required="true" #ClosingDate="ngModel" [ngClass]="{ 'is-invalid': ExchangeForm.submitted && ClosingDate.invalid }"
                                                    required>
                                                </dp-date-picker>
                                               
                                            </div>
                                        </div>
                                    </div>
                                </div>
        
                                <!-- end last left -->
        
                                <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12 form-inner-g">
                                    <div class="peak-form">
                                        <label class="peak-form-label">Notes</label>
                                        <textarea placeholder="Enter Notes" tabindex="12" [(ngModel)]="Exchanges.Notes" name="Notes" class="peak-box-g peak-t-area-notes"></textarea>
                                    </div>
                                </div>
        
        </div>
                            </div>
                        <div class="button-area-g">
                            <button tabindex="15" class="create-btn">CREATE</button>
                            <button tabindex="16" [routerLink]="['/dashboard']" class="cancel-btn">CANCEL</button>
                        </div>
        
                   
                   
                    </div>
                </form>
            </div>
          
    
           
        
          </ng-template>
        <div class="container-fluid contentpage_wrapper peak-manage-exchanges peak-radius10">
            <div class="pagecontent_wrapper">
        
        
                <div class="col-lg-12">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-12 no-padding">
                            <div class="white_wrapper ">
                                <div class="description_peakWrap">
                                    <div class="wrapper_firstChild">
                                        <p class="descHeader"> <strong>{{exchange.customerName}}</strong> <small>({{exchange.companyName}})</small> </p>
                                        <ul>
                                            <li> <span class="nth-span1">Exchange Number</span><span
                                                    class="ftBold">{{exchange.exchangeNumber}}</span> </li>
                                            <li><span class="nth-span1">Relinquished Address</span>
                                                <span class="ftBold">{{exchange.propertyAddress}}</span> </li>
                                            <li><span class="nth-span1">Replacement Address</span><span class="ftBold address-ft">
                                                <a href="javascript:void(0);"  (click)="getUserData(mymodal)">Notify Peak of a Replacement Property you are in escrow to purchase</a></span>
                                            <li><span class="nth-span1">Current Account Balancer</span><span
                                                    class="ftBold">{{totalBalance|currency}}</span> </li>
                                        </ul>
                                    </div>
                                    <div class="wrapper_secondChild">
                                        <p class="sub_titleHeader">Exchange Deadlines</p>
                                        <ul>
                                            <li><span class="nth-span1">45-Day Deadline</span><span
                                                class="ftBold">{{exchange.exchange45Date | date:'d/M/yy'}}</span> </li>
                                                <ng-container
                                                    *ngIf="exchange.day45Left=='0'; else progressbar1">
                                                    <li style="color: #ffffff;">N/A
                                                    </li>
                                                </ng-container>
                                                <ng-template #progressbar1>
                                                    <li class="warn_desc">There are <small>{{exchange.day45Left}}</small> days left to turn in the ID form.
                                                    </li>
                                                </ng-template>
                                      
                                        <li><span class="nth-span1">180-Day Deadline</span><span
                                                class="ftBold">{{exchange.exchange180Date | date:'d/M/yy'}}</span> </li>
                                                <ng-container
                                                    *ngIf="exchange.day180Left=='0'; else progressbar2">
                                                    <li style="color: #ffffff;">N/A
                                                    </li>
                                                </ng-container>
                                                <ng-template #progressbar2>
                                                    <li class="warn_desc">There are <small>{{exchange.day180Left}}</small> days left to turn in the ID form.
                                                    </li>
                                                </ng-template>
                                        
                                        </ul>
                                    </div>
                                     <div class="wrapper_thirdChild">
                                                <p class="sub_titleHeader">Exchange Timeline Progress Bar</p>
                                                <div class="progress-bar-section">
                                                    <progress id="file" value="{{180-exchange.day180Left}}" max="180"></progress>
        
                                                  <p class="range-start">0 days</p>
                                                    <p class="range-end">180 days</p>
                                                    <span class="percentage-shower"><b>{{180-exchange.day180Left}}</b></span>
                                                </div>
                                            </div>
                                </div>
        
                                <div class="tabs_headerBlock">
                                    <div class="custom_TabWrapper">
        
                                        <div class="tab_static customs380tab">

                                            <div class="static_innertab">
                                                <mat-tab-group class="nav nav-tabs">
                                                    <mat-tab label="GENERAL">
                                                        <div class="tab-pane  active" id="generals">
        
                                                            <div class="row">
                                                                <div class="col-lg-4 col-md-4 col-sm-12">
                                                                    <p class="font18">Account Statements</p>                                                         
                                                                </div>
                                                                   <div class="col-lg-9 col-md-9 col-sm-12 syn-general-btn">
                                                                    <button class="btn peak_grey btn_acct accnt-statement" *ngIf="onEnabledShow" (click)="AccStatement()">Download an Account Statement PDF</button>
                                                                    <button class="btn proof-funds-letter" (click)="Proofoffund()">Generate a Proof of Funds Letter</button>
                                                                  
                                                                </div>
                                                                <div class="col-lg-12">
                                                                    <div class="body_content table_editable table-responsive">
                                                                        
                                                                        <form [formGroup]="form">
                                                                             <table class="table borderless" id="excel-table">
                                                                            <thead class="first-child">
                
                                                                                <tr>
                                                                                    <div>
                                                                                        <th style="width:135px;min-width:135px;max-width: 135px;"
                                                                                            class="bg_hdr">Date</th>
                                                                                        <th style="width:135px;min-width:135px;max-width: 150px;" 
                                                                                            class="bg_hdr">Fund To/From</th>
                                                                                        <th style="width:300px;min-width:300px;max-width: 300px;"
                                                                                            class="bg_hdr">Description</th>
                                                                                        <th style="width:150px;min-width:150px;max-width: 150px;"
                                                                                            class="bg_hdr">Incoming Amount</th>
                                                                                        <th style="width:150px;min-width:150px;max-width: 150px;"
                                                                                            class="bg_hdr">Outgoing Amount</th>
                                                                                        <th style="width:150px;min-width:150px;max-width: 150px;"
                                                                                            class="bg_hdr">Balance</th>
                                                                                    </div>
                                                                                </tr>
                
                                                                            </thead>
                                                                            <tbody>
                                                                               
                                                                                <tr formArrayName="accounts" *ngFor="let item of getControls(); index as i">
                                                                                    <div [formGroupName]="i" >
                                                                                        <td style="width:135px;min-width:135px;max-width: 135px;">
                                                                                            <input type="text" formControlName="date" [disabled]="true" class="disabled_input"/>
                                                                                        </td>
                                                                                        <td style="width:135px;min-width:135px;max-width: 150px;">
                                                                                            <input type="text" formControlName="senderOrReceiver"
                                                                                                class="disabled_input" [disabled]="true">
                                                                                        </td>
                                                                                        <td style="width:300px;min-width:300px;max-width: 300px;">
                                                                                            <input type="text" formControlName="description"
                                                                                                class="disabled_input" [disabled]="true">
                                                                                        </td>
                                                                                        <td style="width:150px;min-width:150px;max-width: 150px;">
                                                                                            <input type="number" formControlName="incomingAmount" class="disabled_input amountvalue" [disabled]="true" [readonly]="isValueExits(i, 'outgoingAmount')" >
                                                                                        </td>
                                                                                        <td style="width:150px;min-width:150px;max-width: 150px;">
                                                                                            <input type="number" formControlName="outgoingAmount" class="disabled_input amountvalue" [disabled]="true" [readonly]="isValueExits(i, 'incomingAmount')">
                                                                                        </td>
                                                                                        <td style="width:150px;min-width:150px;max-width: 150px;">
                                                                                                {{getbalance(item, i)|currency}}
                                                                                            </td>
                                                                                    </div>
                                                                                </tr>
                                                                              
                                                                                <tr>
                                                                                    <td style="background:#ffffff; padding: 11px 0px; vertical-align: middle;border-right: unset;    border-top-left-radius: 10px;border-bottom-left-radius: 10px;"
                                                                                        colspan="4">
                                                                                        <p class="font18"
                                                                                            style="margin: 0;text-align: center;">
                                                                                            Current Balance </p>
                                                                                    </td>
                                                                                    <td
                                                                                        style="background:#ffffff; padding: 11px 0px; vertical-align: middle;    border-top-right-radius: 10px;border-bottom-right-radius: 10px;">
                                                                                        <p class="font18"
                                                                                            style="margin: 0;text-align: center;">{{totalBalance|currency}}
                                                                                        </p>
                                                                                    </td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </form>
                                                                </div>
                                                                </div>
                                                            </div>
                
                                                            <div class="exchange-general-synergy">
                                                                <p class="done-exchange">Done with your exchange?</p>
                                                                <button class="btn peak_grey btn_downloads close-out-syn" (click)="closeout()">Close Out</button>
                                                            </div>
                                                        </div>
                                                    </mat-tab>
                                                    <mat-tab label="RELINQUISHED">
                                                        <div class="tab-pane  active" id="relinquished">
                                                            <div class="relinquished-secton col-lg-12 no-padding">
                                                                <div class="relinquished-header">
                                                                    <h2>Relinquished Detailss</h2>
                                                                 
                                                                </div>
                                                                <div class="row no-margin-row nmr-mb">
                                                                    <div class="relinquished-details-list col-12 col-md-6 col-xl-6">
                                                                        <div class="row">
                                                                            <div class="col-12 col-xl-8 no-padding rd-label">
                                                                                <p>Settlement Agent / Escrow Officer Name</p>
                                                                            </div>
                                                                            <div class="col-12 col-xl-4 no-padding">
                                                                                <span class="underline-span">{{exchange.relinquished?.escrowOfficerName}} <img
                                                                                        src="../../../../assets/images/superadmin/escrow-icon.png" /></span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="relinquished-details-list col-12 col-md-6 col-xl-6">
                                                                        <div class="row">
                                                                            <div class="col-12 col-xl-8 no-padding rd-label">
                                                                                <p>How do you hold title to the Property?</p>
                                                                            </div>
                                                                            <div class="col-12 col-xl-4 no-padding">
                                                                                <span>{{exchange.relinquished?.propertyTitle}} </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row no-margin-row nmr-mb">
                                                                    <div class="relinquished-details-list col-12 col-md-6 col-xl-6">
                                                                        <div class="row">
                                                                            <div class="col-12 col-xl-8 no-padding rd-label">
                                                                                <p>Sales Price</p>
                                                                            </div>
                                                                            <div class="col-12 col-xl-4 no-padding">
                                                                                <span>{{exchange.relinquished?.salesPrice  | currency}}</span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="relinquished-details-list col-12 col-md-6 col-xl-6">
                                                                        <div class="row">
                                                                            <div class="col-12 col-xl-8 no-padding rd-label">
                                                                                <p>Approx. Current debt on Property</p>
                                                                            </div>
                                                                            <div class="col-12 col-xl-4 no-padding">
                                                                                <span>{{exchange.relinquished?.currentDebtOnProperty | currency}}</span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row no-margin-row nmr-mb">
                                                                   
                                                                    <div class="relinquished-details-list col-12 col-md-6 col-xl-6">
                                                                        <div class="row">
                                                                            <div class="col-12 col-xl-8 no-padding rd-label">
                                                                                <p>Rel Property Closed Date</p>
                                                                            </div>
                                                                            <div class="col-12 col-xl-4 no-padding">                                                                                                                                                        
                                                                                    <span>{{exchange.relinquished?.relPropertyClosedate | date:'M/d/yy'}}</span>
                                                                              
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row no-margin-row nmr-mb">
                                                                   
                                                                    <div class="col-lg-12">
                                                                        <div class="row">
            
                                                                            <div  *ngFor="let item of customFieldsRelinquish" class="relinquished-details-list mb-15 col-12 col-md-6 col-xl-6">                                                                       
                                                                         
                                                                              <div class="row">
                                                                                <div class="col-12 col-xl-8 no-padding rd-label">
                                                                                    <p>{{item.labelName}}</p>
                                                                                </div>
                                                                               
                                                                                <div class="col-12 col-xl-4 no-padding">                                                                                                                                                                
                                                                                        <span>{{item.value}}</span>                                                                                              
                                                                                </div>
      
                                                                              </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                   
        
                                                                </div>
        
                                                                <div class="relinquished-header input-upload-section">
                                                                    <label style="display: none;">
                                                                        <input id="upload_file" type="file" #file
                                                                            (change)="onChange(file)"
                                                                            accept=".xls,.xlsx,.docx,.pdf,.doc">
                                                                    </label>
                                                                    <!-- <input readonly="true" type="text" id="file" (click)="trigger()"
                                                                        value="Upload Final Closing Statement"> -->
        
                                                                    <div class="float-end-sec" *ngIf="fileName">
                                                                        <p>{{fileName}}</p>
                                                                        <!-- <button type="button" >Remove File</button> -->
                                                                        <img (click)="removeFile()"
                                                                            src="../../../../assets/images/superadmin/input-delete.png" />
                                                                    </div>
                                                                </div>
                                                                <div class="relinquished-header">
                                                                    <h2>Exchange Documents</h2>
                                                                    <button class="btn custom-field cf-extended" (click)="Downloadexchangedocs()">Download
                                                                        Documents</button>
                                                                </div>
                                                                <div class="table-responsive exchange-document-table">
                                                                    <table class="table">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>Date</th>
                                                                                <th>Uploaded by</th>
                                                                                <th>Document Name</th>
                                                                                <th>Document Type</th>
                                                                                <th>Document integrated slot</th>
                                                                                <th>Attachments</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr
                                                                                *ngFor="let item of exchange.relinquished?.documentList">
                                                                                <td>{{item.createdOn | date}}</td>
                                                                                <td>{{item.createdUser}}</td>
                                                                                <td>{{item.documentName}}</td>
                                                                                <td>{{item.extensionName}}</td>
                                                                                <td>{{item.subExtensionName}}</td>
                                                                                <td> <a [download]="item.documentName"
                                                                                        [href]="item.documentPath"
                                                                                        target="_blank"><img
                                                                                            src="../../../assets/images/superadmin/download-icon.png"
                                                                                            alt="no-img" /></a>
                                                                                </td>
                                                                                <ng-container
                                                                                *ngIf=item.docuType>
                                                                                <td>  <button class="btn btn-docsign docsn" (click)="getstatus()">  <a [download]="item.documentName"
                                                                                    [href]=item.docusignclientsignURL
                                                                                    
                                                                                    target="_blank">Click to sign</a>
                                                                                    </button>
                                                                                </td>
                                                                                </ng-container>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="relinquished-header">
                                                                    <h2>Uploaded Documents</h2>
                                                                    <button (click)="uploadAllFiles()" class="btn custom-field upload-all">Upload all</button>
                                                                </div>
                                                                <div class="file-uploader-section">
                                                                    <img
                                                                        src="../../../../assets/images/superadmin/file-uploader-icon.png" />
                                                                    <div class="fus">
                                                                        <label>
                                                                            <input type="file"
                                                                                (change)="onSelectMultipleFile($event)"
                                                                                accept=".xls,.xlsx,.docx,.pdf,.doc" multiple>
                                                                        </label>
                                                                        <!-- <input readonly="true" type="text" id="file" (click)="trigger()"
                                                                            value=""> -->
                                                                    </div>
                                                                    <div class="float-end-sec" *ngIf="fileName">
                                                                        <p>{{fileName}}</p>
                                                                    </div>
                                                                    <span>Drag and Drop your files here or
                                                                        <!-- <input readonly="true"
                                                                            type="text" id="file" (click)="trigger()"
                                                                            value="Browse your computer"> -->
                                                                        </span>
        
                                                                </div>
                                                                <div class="table-responsive exchange-document-table edt-end-table">
                                                                    <table class="table">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>Date</th>
                                                                                <th>Document Name</th>
                                                                                <th>Document Type</th>
                                                                                <th>Document Designated Slot</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                             <tr *ngFor="let item of filesSelected">
                                                                                <td>{{item.date | date}}</td>
                                                                                <td>{{item.name}}</td>
                                                                             <td>
                                                                                <select class="peak-box-g" [(ngModel)]="DocumentType.documentType" (change)="getdocumentslotList(DocumentType.documentType)" name="documentType" #documentType="ngModel">
                                                                                    <option value="0" disabled>Select
                                                                                        document type</option>
                                                                                    <option value="3">Exchange</option>
                                                                                    <option value="4">Escrow</option> 
                                                                                    <option value="5">Identification</option> 
                                                                                    <option value="6">CloseOut</option>                                                      
                                                                                </select>
                                                                                </td>
                                                                                <td>
                                                                                    
                                                            <select class="peak-box-g" [(ngModel)]="DocumentType.documentdesignatedslot">
                                                                <option value="0" disabled>Select
                                                                    designated type</option>
                                    <option *ngFor="let doc of Documentslotlist" [ngValue] ="doc.extensionId">{{doc.extensionName}} </option>
                                  </select>
                                                                                    
                                                                                    </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="page-end-buttons col-xl-12">
                                                                   
                                                                </div>
        
                                                            </div>
                                                        </div>
                                                    </mat-tab>
                                                    <mat-tab label="IDENTIFICATION">
                                                        <div class="tab-pane  active" id="identifications">
                                                            <form [formGroup]="identification">
                                                                <div class="identi-beginer" *ngIf="ruleFromToggle">
                                                                        <p>You can fill out the identification form on behalf of the client.
                                                                            However, the client will have to sign and submit the form before we
                                                                            will accept it as a completed ID form.</p>
                                                                        <h4>3 Property Rule &#x00a0; <span><svg width="18" height="20"
                                                                                    viewBox="0 0 18 20" fill="none"
                                                                                    xmlns="http://www.w3.org/2000/svg">
                                                                                    <path
                                                                                        d="M9 0.132812C4.0371 0.132812 0 4.49289 0 9.85284C0 15.2128 4.0371 19.5729 9 19.5729C13.9629 19.5729 18 15.2128 18 9.85284C18 4.49289 13.9629 0.132812 9 0.132812ZM8.62499 16.3329C8.00462 16.3329 7.49999 15.7879 7.49999 15.1179C7.49999 14.4479 8.00462 13.9029 8.62499 13.9029C9.24536 13.9029 9.74999 14.4479 9.74999 15.1179C9.74999 15.7879 9.24536 16.3329 8.62499 16.3329ZM9.74999 11.3922V12.6879C9.74999 12.9117 9.58226 13.0929 9.37498 13.0929H7.875C7.66772 13.0929 7.49999 12.9117 7.49999 12.6879V10.6629C7.49999 9.76981 8.17309 9.04285 9 9.04285C9.82691 9.04285 10.5 8.3159 10.5 7.42284C10.5 6.52977 9.82691 5.80282 9 5.80282C8.17309 5.80282 7.49999 6.52977 7.49999 7.42284V7.82785C7.49999 8.05171 7.33226 8.23286 7.12498 8.23286H5.625C5.41772 8.23286 5.24999 8.05171 5.24999 7.82785V7.42284C5.24999 5.18977 6.93236 3.37281 9 3.37281C11.0676 3.37281 12.75 5.18981 12.75 7.42284C12.75 9.36639 11.4822 11.0133 9.74999 11.3922Z"
                                                                                        fill="#F05922" />
                                                                                </svg> What is the 3-Property Rule?</span>
                                                                        </h4>
                                                                        <div class="flx_div" formArrayName="thirdProperty" *ngFor="let item of getThirdProperty(); index as i" >
                                                                            <div class="flx_div" [formGroupName]="i">
                                                                                <div class="flx_section">
                                                                                    <label class="peak-form-label"></label>
                                                                                    <label class="peak-form-label">#{{i+1}} </label>
                                                                                   
                                                                                    <!-- <input class="ipt" type="text" formControlName="propertTitle" placeholder="Title"> -->
                                                                                </div>
                                                                                <div class="flx_section">
                                                                                    <label class="peak-form-label">Replacement Property Address #{{i+1}}</label>
                                                                                    <input class="ipt big" type="text" formControlName="propertyAddress" placeholder="Address">
                                                                                </div>
                                                                                <div class="flx_section">
                                                                                    <label class="peak-form-label">Acquiring</label>
                                                                                    <input class="ipt" type="number" min="0" max="9999999999999999" maxlength="30" oninput="this.value=this.value.slice(0,this.maxLength||1/0);this.value=(this.value   < 1) ? (1/0) : this.value;" formControlName="acquiring" placeholder="Acquiring">
                                                                                    <span>% ownership</span>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <h3>I intend to aquire</h3>
                                                                        <div class="flx_div">
                                                                            <div class="form-group">
                                                                                <input type="radio" class="custom_ipt" id="one1" formControlName="intendToAquire" [value]="1">
                                                                                <label for="one1" class="custom_lbl">
                                                                                    <span></span> One
                                                                                </label>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <input type="radio" class="custom_ipt" id="two2" formControlName="intendToAquire" [value]="2">
                                                                                <label for="two2" class="custom_lbl">
                                                                                    <span></span> Two
                                                                                </label>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <input type="radio" class="custom_ipt" id="three3" formControlName="intendToAquire" [value]="3">
                                                                                <label for="three3" class="custom_lbl">
                                                                                    <span></span> Three
                                                                                </label>
                                                                            </div>
                                                                            <p>of the properties identified above</p>
                                                                        </div>
                                                                        <h4 class="mb-2">Disclaimer</h4>
                                                                        <p style="font-weight: normal;font-style: italic;">Exchanger is strongly
                                                                            advised to contact their own Tax/Legal advisor with respect to the
                                                                            completion of this identification form and this 1031 Tax Deferred
                                                                            exchange transaction</p>
                                                                        <div class="btn_btm">
                                                                            <button class="save_id" (click)="saveIdForm()">Save ID Form</button>
                                                                            <button class="download_id" (click)="DownloadIDform()">Download Completed ID Form</button>
                                                                            <button data-toggle="modal" data-target="#dialog_box_1"
                                                                                class="rule_form">Use the 200% Rule Form</button>
                                                                        </div>
                                                                </div>
                                                                <div class="identi-200" *ngIf="!ruleFromToggle">
                                                                    <h2 class="tab-headtxt-g">You can fill out the identification form on
                                                                        behalf of the client. However, the client will have to sign and
                                                                        submit the form before we will accept it as a completed ID form.
                                                                    </h2>
                                                                    <div class="tab-heading-sect-g">
                                                                        <div class="tab-hd-left-g">
                                                                            <h2 class="rule-text-g">200% Rule Form</h2>
                                                                            <a href="#" class="wt-rule-txt-g"><span class="q-sv-g"><svg
                                                                                        xmlns="http://www.w3.org/2000/svg" width="18"
                                                                                        height="18" viewBox="0 0 18 18" fill="none">
                                                                                        <path
                                                                                            d="M9 0.231934C4.0371 0.231934 0 4.20445 0 9.08795C0 13.9715 4.0371 17.944 9 17.944C13.9629 17.944 18 13.9715 18 9.08795C18 4.20445 13.9629 0.231934 9 0.231934ZM8.62499 14.992C8.00462 14.992 7.49999 14.4954 7.49999 13.885C7.49999 13.2745 8.00462 12.778 8.62499 12.778C9.24536 12.778 9.74999 13.2745 9.74999 13.885C9.74999 14.4954 9.24536 14.992 8.62499 14.992ZM9.74999 10.4905V11.671C9.74999 11.8749 9.58226 12.04 9.37498 12.04H7.875C7.66772 12.04 7.49999 11.8749 7.49999 11.671V9.82598C7.49999 9.0123 8.17309 8.34996 9 8.34996C9.82691 8.34996 10.5 7.68763 10.5 6.87395C10.5 6.06027 9.82691 5.39793 9 5.39793C8.17309 5.39793 7.49999 6.06027 7.49999 6.87395V7.24296C7.49999 7.44692 7.33226 7.61197 7.12498 7.61197H5.625C5.41772 7.61197 5.24999 7.44692 5.24999 7.24296V6.87395C5.24999 4.83938 6.93236 3.18393 9 3.18393C11.0676 3.18393 12.75 4.83942 12.75 6.87395C12.75 8.64474 11.4822 10.1452 9.74999 10.4905Z"
                                                                                            fill="#F05922" />
                                                                                    </svg></span> What is the 200% Rule?</a>
                                                                        </div>
                                                                        <div class="tab-hd-right-g">
                                                                            <button (click)="addSecondProperty()" class="add-property-ag-btn">Add Property
                                                                                Address</button>
                                                                        </div>
                                                                    </div>
                                                                    <!-- address sec -->
                                                                    <div class="property-addr-sec-g" formArrayName="secondProperty" *ngFor="let item of getSecondProperty(); index as i" >
                                                                        <div class="property-addr-sec-g" [formGroupName]="i">
                                                                            
                                                                                <div class="prop-inner-g">
                                                                                    
                                                                                        <label class="peak-form-label"></label>
                                                                                        <label class="peak-form-label">#{{i+1}} </label>
        
                                                                                </div>
                                                                            
        
                                                                            <div class="prop-addr-g">
                                                                                <div class="prop-inner-g">
                                                                                    <label class="peak-form-label">Replacement Property Address
                                                                                        #{{i+1}}</label>
                                                                                    <input type="text" placeholder="Enter Address" formControlName="propertyAddress"
                                                                                        class="peak-box-g">
                                                                                </div>
                                                                            </div>
        
                                                                            <div class="prop-acqu-g">
                                                                                <div class="prop-inner-g">
                                                                                    <label class="peak-form-label">Acquiring approx.</label>
                                                                                    <div class="acqi-inner-g">
                                                                                        <input type="number" min="0" max="9999999999999999" maxlength="30" oninput="this.value=this.value.slice(0,this.maxLength||1/0);this.value=(this.value   < 1) ? (1/0) : this.value;" placeholder="Enter Value"
                                                                                            class="peak-box-g" formControlName="acquiring">
                                                                                        <h2 class="perc-txt-g">%</h2>
                                                                                    </div>
                                                                                </div>
        
                                                                            </div>
        
                                                                            <div class="prop-value-g">
                                                                                <div class="prop-inner-g">
                                                                                    <label class="peak-form-label">Value</label>
                                                                                    <div class="property-val-bx-g">
                                                                                        <span class="dollar-sym-g"><svg
                                                                                                xmlns="http://www.w3.org/2000/svg" width="8"
                                                                                                height="14" viewBox="0 0 8 14" fill="none">
                                                                                                <path
                                                                                                    d="M7.84 9.242C7.84 9.998 7.574 10.6327 7.042 11.146C6.51 11.65 5.80533 11.958 4.928 12.07V13.624H3.752V12.098C2.44533 12.014 1.38133 11.608 0.56 10.88L1.078 9.802C1.51667 10.1567 1.95533 10.4227 2.394 10.6C2.83267 10.7773 3.30867 10.8847 3.822 10.922V7.66C3.178 7.492 2.64133 7.31467 2.212 7.128C1.792 6.94133 1.43733 6.666 1.148 6.302C0.868 5.92867 0.728 5.44333 0.728 4.846C0.728 4.342 0.854 3.88467 1.106 3.474C1.36733 3.054 1.72667 2.71333 2.184 2.452C2.64133 2.18133 3.164 2.01333 3.752 1.948V0.407999H4.928V1.948C5.47867 2.01333 5.992 2.14867 6.468 2.354C6.95333 2.55933 7.364 2.82067 7.7 3.138L7.182 4.216C6.49133 3.6 5.72133 3.24067 4.872 3.138V6.582C5.488 6.73133 5.99667 6.89933 6.398 7.086C6.80867 7.26333 7.14933 7.52467 7.42 7.87C7.7 8.21533 7.84 8.67267 7.84 9.242ZM2.184 4.776C2.184 5.18667 2.324 5.50867 2.604 5.742C2.89333 5.966 3.29933 6.15267 3.822 6.302V3.124C3.30867 3.19867 2.90733 3.38067 2.618 3.67C2.32867 3.95933 2.184 4.328 2.184 4.776ZM4.872 10.88C5.35733 10.796 5.73067 10.6187 5.992 10.348C6.25333 10.068 6.384 9.71333 6.384 9.284C6.384 8.93867 6.25333 8.66333 5.992 8.458C5.74 8.25267 5.36667 8.07533 4.872 7.926V10.88Z"
                                                                                                    fill="#242E3E" />
                                                                                            </svg></span>
                                                                                        <input type="number" min="0" max="9999999999999999" maxlength="30" oninput="this.value=this.value.slice(0,this.maxLength||1/0);this.value=(this.value   < 1) ? (1/0) : this.value;" placeholder="Enter Value"
                                                                                            class="peak-box-g" formControlName="amount">
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="tab-hd-right-g">
                                                                                <button (click)="deleteSecondProperty(i)"
                                                                                    class="add-property-ag-btn">Delete</button>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <!-- end address sec -->
        
                                                                    <!-- total value sec -->
                                                                    <div class="total-valsec-g">
                                                                        <div class="row">
                                                                            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 val-left-g">
                                                                                <div class="rul-val-bk-g">
                                                                                    <label class="valu-lbl-g">200% Rule Value Limit</label>
                                                                                    <p class="valu-lbl-g">{{exchange.money200PerRuleLimit}}</p>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 val-left-g">
                                                                                <div class="tot-val-bk-g">
                                                                                    <label class="total-val-iden-g">Total Value
                                                                                        Identified</label>
                                                                                        <ng-container *ngIf="exchange.money200PerRuleLimit < totalIdentifyValue; else value">
                                                                                            <p class="tt-iden-txt-g" style="color: red;">{{totalIdentifyValue|currency}}</p>
                                                                                        </ng-container>
                                                                                        <ng-template #value>
                                                                                            <p class="tt-iden-txt-g">{{totalIdentifyValue|currency}}</p>
                                                                                            
                                                                                        </ng-template>   
                                                                                    
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <!-- end total value sec -->
        
                                                                    <!-- acquire sec -->
                                                                    <div class="ident-sel-g">
                                                                        <label class="peak-form-label">I intend to aquire</label>
                                                                        <input class="peak-box-g" [value]="identification.get('secondProperty').controls.length" >
                                                                        <p>of the properties identified above</p>
                                                                    </div>
                                                                    <!-- end acquire sec -->
                                                                    <div class="dis-claimer-g">
                                                                        <h2 class="dis-cl-hd">Disclaimer</h2>
                                                                        <p>Exchanger is strongly advised to contact their own Tax/Legal
                                                                            advisor with respect to the completion of this identification
                                                                            form and this 1031 Tax Deferred exchange transaction</p>
                                                                    </div>
        
                                                                    <div class="bot-btn-sec">
                                                                        <button class="save-id-btn-g" (click)="saveIdForm()">Save ID Form</button>
                                                                        <button class="download_id" (click)="DownloadIDform()">Download Completed ID Form</button>
                                                                        <button data-toggle="modal" data-target="#dialog_box_2"
                                                                            class="thr-prop-btn-g">Use the 3-Property Rule Form</button>
                                                                    </div>
                                                                </div>
                                                            </form>
        
                                                        </div>
                                                    </mat-tab>
                                                    <mat-tab *ngFor="let item of replacementList; let i = index" label="REPLACEMENT {{i+1}}">
                                                        <div class="tab-pane  active" id="replacement1">
                                                            <div class="relinquished-secton replacement-1-section col-lg-12 no-padding">
                                                                <div class="relinquished-header">
                                                                    <h2>Property Details</h2>
                                                                  
                                                                </div>
        
                                                                <!-- <button (click)="getSelectedValue()">Get Selected Values</button> -->
                                                                <div class="row no-margin-row nmr-mb">
                                                                    <div
                                                                        class="relinquished-details-list col-12 col-md-4 col-xl-4 no-padding-left">
        
                                                                        <div class="col-12 col-xl-12 no-padding rd-label">
                                                                            <p>Replacement Property Address</p>
                                                                        </div>
                                                                        <div class="col-12 col-xl-12 no-padding">
                                                                            <span>{{item.propertyAddress}}</span>
                                                                        </div>
                                                                    </div>
                                                                    <div
                                                                        class="relinquished-details-list col-12 col-md-4 col-xl-4 no-padding">
        
                                                                        <div class="col-12 col-xl-12 no-padding rd-label">
                                                                            <p>Purchase Price</p>
                                                                        </div>
                                                                        <div  class="col-12 col-xl-12 no-padding">
                                                                                
                                                                            
                                                                                <span>{{item.salesPrice? item.salesPrice: 0| currency}} </span>
                                                                                                                                                                          
                                                                        </div>
                                                                        
                                                                    </div>
                                                                    <div
                                                                        class="relinquished-details-list col-12 col-md-4 col-xl-4 no-padding-right">
        
                                                                        <div class="col-12 col-xl-12 no-padding rd-label">
                                                                            <p>Settlement Agent Name</p>
                                                                        </div>
                                                                        <div class="col-12 col-xl-12 no-padding">
                                                                            <span>{{item.escrowOfficerName}}</span>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="row no-margin-row nmr-mb">
        
                                                                    <div
                                                                        class="relinquished-details-list col-12 col-md-4 col-xl-4 no-padding-left">
        
                                                                        <div class="col-12 col-xl-12 no-padding rd-label">
                                                                            <p>Settlement Agent Company</p>
                                                                        </div>
                                                                        <div class="col-12 col-xl-12 no-padding">
                                                                            <span>{{item.escrowOfficerCompanyName}}</span>
                                                                        </div>
                                                                    </div>
                                                                    <div
                                                                        class="relinquished-details-list col-12 col-md-4 col-xl-4 no-padding">
        
                                                                        <div class="col-12 col-xl-12 no-padding rd-label">
                                                                            <p>Settlement Agent Email</p>
                                                                        </div>
                                                                        <div class="col-12 col-xl-12 no-padding">
                                                                            <span>{{item.escrowOfficerEmail}}</span>
                                                                        </div>
                                                                    </div>
                                                                    
                                                                    
                                                                    <div *ngFor="let item of replacementList[i].customFields" class="relinquished-details-list col-12 col-md-4 col-xl-4">
                                                                        
                                                                            <div class="col-12 col-xl-8 no-padding rd-label">
                                                                                <p>{{item.labelName}}</p>
                                                                            </div>
                                                                           
                                                                            <div  class="col-12 col-xl-12 no-padding">
                                                                                
                                                                                
                                                                                    <span>{{item.value}}</span>
                                                                                                                                                                                  
                                                                            </div>
                                                                        
                                                                        
                                                                            
                                                                      
                                                                        
                                                                           
                                                                          
                                                                        
                                                                    </div>
                                                                     
                                                                </div>
        
        
                                                                <div class="relinquished-header input-upload-section">
                                                                    <label style="display: none;">
                                                                        <input id="upload_file" type="file" #file
                                                                            (change)="onChange(file)"
                                                                            accept=".xls,.xlsx,.docx,.pdf,.doc">
                                                                    </label>
                                                                 
        
                                                                    <div class="float-end-sec" *ngIf="fileName">
                                                                        <p>{{fileName}}</p>
                                                                        <!-- <button type="button" >Remove File</button> -->
                                                                        <img (click)="removeFile()"
                                                                            src="../../../../assets/images/superadmin/input-delete.png" />
                                                                    </div>
                                                                </div>
                                                                <div class="relinquished-header">
                                                                    <h2>Exchange Documents</h2>
                                                                    <button class="btn custom-field cf-extended" (click)="DownloadexchangedocsReplacement(item.propertyId)">Download Exchange
                                                                        Documents</button>
                                                                </div>
                                                                <div class="table-responsive exchange-document-table">
                                                                    <table class="table">
                                                                        <thead>
                                                                            <tr>
                                                                                <th>Date</th>
                                                                                <th>Uploaded by</th>
                                                                                <th>Document Name</th>
                                                                                <th>Document Type</th>
                                                                                <th>Document integrated slot</th>
                                                                                <th>Attachments</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr *ngFor="let doc of item.documentList">
                                                                                <td>{{doc.createdOn | date}}</td>
                                                                                <td>{{doc.createdUser}}</td>
                                                                                <td>{{doc.documentName}}</td>
                                                                                <td>{{doc.extensionName}}</td>
                                                                                <td>{{doc.subExtensionName}}</td>
                                                                                <!-- <td>Document Name - 1</td> -->
                                                                                <td> <a [download]="doc.documentName"
                                                                                        [href]="doc.documentPath"
                                                                                        target="_blank"><img
                                                                                            src="../../../assets/images/superadmin/download-icon.png"
                                                                                            alt="no-img" /></a>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="relinquished-header">
                                                                    <h2>Uploaded Documents</h2>
                                                                    <button (click)="uploadAllFilesReplacement(item.propertyId,item.propertyTransactionId)" class="btn custom-field upload-all">Upload all</button>
                                                                </div>
                                                                <div class="file-uploader-section">
                                                                    <img
                                                                        src="../../../../assets/images/superadmin/file-uploader-icon.png" />
                                                                    <div class="fus">
                                                                        <label>
                                                                            <input type="file"
                                                                                (change)="onSelectMultipleFile($event)"
                                                                                accept=".xls,.xlsx,.docx,.pdf,.doc" multiple>
                                                                        </label>
                                                                        <!-- <input readonly="true" type="text" id="file" (click)="trigger()"
                                                                            value=""> -->
                                                                    </div>
                                                                    <div class="float-end-sec" *ngIf="fileName">
                                                                        <p>{{fileName}}</p>
                                                                    </div>
                                                                    <span>Drag and Drop your files here or
                                                                        <!-- <input readonly="true"
                                                                            type="text" id="file" (click)="trigger()"
                                                                            value="Browse your computer"> -->
                                                                        </span>
        
                                                                </div>
                                                                <div
                                                                class="table-responsive exchange-document-table edt-end-table">
                                                                <table class="table">
                                                                    <thead>
                                                                        <tr>
                                                                            <th>Date</th>
                                                                            <th>Document Name</th>
                                                                            <th>Document Type</th>
                                                                            <th>Document Designated Slot</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr *ngFor="let item of filesSelected">
                                                                            <td>{{item.date | date}}</td>
                                                                            <td>{{item.name}}</td>
                                                                            <td>
                                                                                <select class="peak-box-g"
                                                                                    [(ngModel)]="DocumentType.documentType"
                                                                                    (change)="getdocumentslotList(DocumentType.documentType)"
                                                                                    name="documentType"
                                                                                    #documentType="ngModel">
                                                                                    <option value="0" disabled>Select
                                                                                        document type</option>
                                                                                    <option value="3">Exchange</option>
                                                                                    <option value="4">Escrow</option>
                                                                                    <option value="5">Identification
                                                                                    </option>
                                                                                    <option value="6">CloseOut</option>
                                                                                </select>
                                                                            </td>
                                                                            <td>
    
                                                                                <select class="peak-box-g"
                                                                                    [(ngModel)]="DocumentType.documentdesignatedslot">
                                                                                    <option value="0" disabled>Select
                                                                                        designated type</option>
                                                                                    <option
                                                                                        *ngFor="let doc of Documentslotlist"
                                                                                        [ngValue]="doc.extensionId">
                                                                                        {{doc.extensionName}} </option>
                                                                                </select>
    
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                                <div class="page-end-buttons col-xl-12">
                                                                   
                                                                </div>
        
                                                            </div>
                                                        </div>
                                                    </mat-tab>
                                                  
                                                   
                                                  </mat-tab-group>
                                               
                                            </div>
                                        </div>
                                        
                                        <div class="tab_static">
                                            <div class="static_innertab">
                                                <p class="font18 syn-notes">Notes</p>
    
                                                <div class="tab-content syn-tab-content">
                                                    
                                                    <div class="tab-pane container active" id="General">
                                                        <div class="list_internalScroll">
                                                            <h6 *ngFor="let leadlist of NotesExternal"  class="clone_textarea">
                                                                <p>{{leadlist.messageBody}}</p>
                                                                <span> from {{leadlist.senduserName}} on {{leadlist.dateTime|date:'short'}}</span>
                                                            </h6>
                                                            
                                                        </div>
                                                    </div>
                                                    <div class="peak-form mt_20">
                                                        <textarea placeholder="Enter Notes" [(ngModel)]="Notes.Note" class="peak-box-g peak-t-area"></textarea>
                                                    </div>
                                                    <button class="btn btn_send" (click)="Addnotes()">Add Notes</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>    
                            </div>
                        </div>
        
                    </div>
                </div>
            </div>
        </div>
        
        <!--Send Email Popup -->
        <div class="modal fade" id="send_email" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog del-modal modal-dialog-centered" role="document">
                <div class="modal-content">
        
                    <div class="modal-body">
                        <h4>Documents</h4>
                        <hr>
                        <label>Select Document</label>
                        <div class="select_div">
                            <select>
                                <option>Exchange Documnt / Lorem Ipsum Doucment / ...</option>
                            </select>
                            <span><i class="fa fa-angle-down"></i></span>
                        </div>
                        <div class="btn_flex">
                            <button class="btn_Confirm">Submit</button>
                            <button data-dismiss="modal" class="btn_Cancel">Cancel</button>
                        </div>
                    </div>
        
                </div>
            </div>
        </div>
        <!-- Send Email Popup -->
        <!-- Dialog box -->
        <div class="modal fade" id="dialog_box" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog del-modal modal-dialog-centered" role="document">
                <div class="modal-content">
        
                    <div class="modal-body">
                        <h4 class="head_label">Duplicate Exchange Tab</h4>
                        <div class="select_div">
                            <select [(ngModel)]="duplicateexchange.PropertyTransactionId">
                                <option value="0">Relinquish</option>
                                <option  *ngFor="let leadlist of DuplicateToList;index as i" value="{{leadlist}}">Replacement Tab {{i+1}}</option>
                            </select>
                            <span><i class="fa fa-angle-down"></i></span>
                        </div>
                        <h4 class="head_label">Duplicate To</h4>
                        <div class="select_div">
                            <select   [(ngModel)]="duplicateexchange.ToExchangeId">
                                <option *ngFor="let leadlist of DuplicateFromList" value="{{leadlist.exchangeId}}">{{leadlist.exchangeNumber}}</option>
                            </select>
                            <span><i class="fa fa-angle-down"></i></span>
                           
                        </div>
                        <div class="btn_flex">
                            <button class="btn_Confirm" data-toggle="modal" data-target="#frame_3" (click)="duplicateexchangeval(duplicateexchange.PropertyTransactionId,duplicateexchange.ToExchangeId)">Confirm</button>
                            <button data-dismiss="modal" class="btn_Cancel">Cancel</button>
                        </div>
                    </div>
        
                </div>
            </div>
        </div>
        
        
        <!-- Dialog box -->
        
        <!-- frame 3 -->
        <div class="modal fade" id="frame_3" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog del-modal modal-dialog-centered" role="document">
                <div class="modal-content">
        
                    <div class="modal-body">
                        <img src="../../../assets/images/superadmin/frame_3_tick.svg">
                        <h2>Document Duplicated Successfully</h2>
                        <button data-dismiss="modal" class="ok">Okay</button>
                    </div>
        
                </div>
            </div>
        </div>
        
        
        <!-- frame 3 -->
        <div class="modal fade" id="dialog_box_1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog del-modal modal-dialog-centered" role="document">
                <div class="modal-content">
        
                    <div class="modal-body">
                        <img src="../../../assets/images/superadmin/dialog_pic.png">
                        <h2>Are you sure you want to use the 200% Rule? Any information you have entered in the 3-Property Rule form will be lost.</h2>
                        <div class="btn_flex">
                            <button class="btn_Confirm" data-dismiss="modal"
                                (click)="propertychange('secondProperty')">Yes</button>
                            <button data-dismiss="modal" class="btn_Cancel">No</button>
                        </div>
                    </div>
        
                </div>
            </div>
        </div>
        <!-- End frame 3 -->
        
        <!-- frame 4 -->
        <div class="modal fade" id="dialog_box_2" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog del-modal modal-dialog-centered" role="document">
                <div class="modal-content">
        
                    <div class="modal-body">
                        <img src="../../../assets/images/superadmin/dialog_pic.png">
                        
                        <h2>Are you sure you want to use the 3-Property Rule? Any information you have entered in the 200% Rule form will be lost.</h2>
                        <div class="btn_flex">
                            <button class="btn_Confirm" data-dismiss="modal"
                            (click)="propertychange('thirdProperty')">Yes</button>
                            <button data-dismiss="modal" class="btn_Cancel">No</button>
                        </div>
                    </div>
        
                </div>
            </div>
        </div>
        <!-- End frame 4 -->
         <!-- Dialog box -->
        
        <!-- Dialog box -->
        <!--Send Email Popup -->
        <div class="modal fade" id="send_email" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog del-modal modal-dialog-centered" role="document">
                <div class="modal-content">

                    <div class="modal-body">
                        <h4>Documents</h4>
                        <hr>
                        <label>Select Document</label>
                        <div class="select_div">
                            <select>
                <option>Exchange Documnt / Lorem Ipsum Doucment / ...</option>
            </select>
                            <span><i class="fa fa-angle-down"></i></span>
                        </div>
                        <div class="btn_flex">
                            <button class="btn_Confirm">Submit</button>
                            <button data-dismiss="modal" class="btn_Cancel">Cancel</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <!-- Send Email Popup -->
        <!-- Dialog box -->
        <div class="modal fade" id="dialog_box" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog del-modal modal-dialog-centered" role="document">
                <div class="modal-content">

                    <div class="modal-body">
                        <h4 class="head_label">Duplicate Exchange Tab</h4>
                        <div class="select_div">
                            <select>
        <option>Relinquished</option>
    </select>
                            <span><i class="fa fa-angle-down"></i></span>
                        </div>
                        <h4 class="head_label">Duplicate To</h4>
                        <div class="select_div">
                            <select>
        <option>E-69916</option>
    </select>
                            <span><i class="fa fa-angle-down"></i></span>
                        </div>
                        <div class="btn_flex">
                            <button class="btn_Confirm" data-toggle="modal" data-target="#frame_3">Confirm</button>
                            <button data-dismiss="modal" class="btn_Cancel">Cancel</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>


        <!-- Dialog box -->

        <!-- frame 3 -->
        <div class="modal fade" id="frame_3" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog del-modal modal-dialog-centered" role="document">
                <div class="modal-content">

                    <div class="modal-body">
                        <img src="../../../assets/images/superadmin/frame_3_tick.svg">
                        <h2>Document Duplicated Successfully</h2>
                        <button data-dismiss="modal" class="ok">Okay</button>
                    </div>

                </div>
            </div>
        </div>


        <!-- frame 3 -->
        <div class="modal fade" id="dialog_box_1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog del-modal modal-dialog-centered" role="document">
                <div class="modal-content">

                    <div class="modal-body">
                        <img src="../../../assets/images/superadmin/dialog_pic.png">
                        <h2>Do you want to use 200% rule, if yes all the changes will be revoked?</h2>
                        <div class="btn_flex">
                            <button class="btn_Confirm" data-dismiss="modal" (click)="ruleFromToggle = !ruleFromToggle">Yes</button>
                            <button data-dismiss="modal" class="btn_Cancel">No</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <!-- End frame 3 -->

        <!-- frame 4 -->
        <div class="modal fade" id="dialog_box_2" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog del-modal modal-dialog-centered" role="document">
                <div class="modal-content">

                    <div class="modal-body">
                        <img src="../../../assets/images/superadmin/dialog_pic.png">
                        <h2>Do you want to use 3-Property Rule, if yes all the changes will be revoked?</h2>
                        <div class="btn_flex">
                            <button class="btn_Confirm" data-dismiss="modal" (click)="ruleFromToggle = !ruleFromToggle">Yes</button>
                            <button data-dismiss="modal" class="btn_Cancel">No</button>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </main>
</div>
