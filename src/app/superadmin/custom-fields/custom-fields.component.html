<div class="page-wrapper chiller-theme">
    <a id="show-sidebar" class="btn btn-sm btn-dark">
        <i class="fas fa-bars"></i>
    </a>
    <app-sidebar></app-sidebar>
    <!-- sidebar-wrapper  -->
    <main class="page-content">
        <app-header headerMainTitle="Custom Fields">
        </app-header>

        <div class="container-fluid contentpage_wrapper">
            <div class="pagecontent_wrapper">
                <div class="tab-bk-g">
                    <!-- Tab section -->
                    <ul class="nav nav-pills" id="approval-tabs-g" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="contact-fields-tab" data-toggle="pill" href="#contact-fields" role="tab" aria-controls="pills-home" aria-selected="true">Contact Fields</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="exchange-fields-tab" data-toggle="pill" href="#exchange-fields" role="tab" aria-controls="pills-profile" aria-selected="false">Exchange Fields</a>
                        </li>
                    </ul>
                    <div class="tab-content" id="approv-pills-tabContent">
                        <!-- Approval list tab -->
                        <div class="tab-pane fade show active" id="contact-fields" role="tabpanel" aria-labelledby="contact-fields-tab">
                            <div class="custom-fields-hd-g">
                                <div class="cst-left-g">
                                    <input type="text" placeholder="Search..."  class="peak-search-bx peak-box-g"  [(ngModel)]="searchText" (input)="onSearch(searchText)"/>
                                </div>
                                <div class="cst-rgt-g">
                                 
                                    <button class="add-cont-fi-g" data-toggle="modal" data-target="#add-contact-field-modal">ADD CONTACT FIELD</button>
                                </div>
                            </div>

                            <div class="apxtable_grid_table">
                                <div class="table-responsive apx-responsive table-responsive-realest">
                                    <table id="approval-list-table" class="table peak-table cust-field-table-g">
                                        <thead>
                                            <tr>
                                                <th [class.active]="order === 'userid'" (click)="setOrder('userid')">Column Field
                                                    <span [hidden]="reverse"><img src="../../../assets/images/sort.png"></span>
                                                    <span [hidden]="!reverse"><img src="../../../assets/images/sort.png"></span>
                                                </th>
                                                <th [class.active]="order === 'userid'" (click)="setOrder('userid')">Type
                                                    <span [hidden]="reverse"><img src="../../../assets/images/sort.png"></span>
                                                    <span [hidden]="!reverse"><img src="../../../assets/images/sort.png"></span>
                                                </th>
                                                <th [class.active]="order === 'userid'" (click)="setOrder('userid')">Enable/Disable
                                                </th>
                                                <th [class.active]="order === 'userid'" (click)="setOrder('userid')">Actions
                                                </th>

                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let leadlist of Customcontactfield | paginate: { itemsPerPage: 5, currentPage: p, id: 'first' }">

                                                <td>{{leadlist.customFieldName}}</td>
                                                <td>{{leadlist.typeName}}</td>

                                                <td><label class="switch"><input  type="checkbox" [checked]="leadlist.isActive === 1" (change)="ActiveInactive(leadlist.customFieldId)"><span class="slider round"></span></label></td>
                                                <td>
                                                    <button (click)="getid(leadlist.customFieldId)"  data-toggle="modal" data-target="#add-contact-field-modal" class="edit-btn-g">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                                                        <path d="M17.5206 2.92207L15.0661 0.465466C14.4477 -0.153498 13.3718 -0.154687 12.751 0.466655L1.75512 11.571C1.70638 11.6202 1.67121 11.6806 1.65203 11.7469L0.0157015 17.479C-0.0250667 17.6218 0.0148962 17.7757 0.119981 17.8809C0.197874 17.9589 0.302153 18.0009 0.409232 18.0009C0.446779 18.0009 0.484747 17.9956 0.521488 17.9853L6.24872 16.3475C6.31503 16.3283 6.37535 16.2931 6.42448 16.2443L17.5206 5.23796C17.8298 4.92849 18 4.51744 18 4.08003C18 3.64263 17.8298 3.23153 17.5206 2.92207ZM10.9683 3.44247L12.4741 4.94832L4.61212 12.8104L4.04788 11.6815C3.97835 11.5429 3.83695 11.4554 3.68193 11.4554H3.0268L10.9683 3.44247ZM1.00488 16.9961L1.53774 15.1308L2.87017 16.4632L1.00488 16.9961ZM5.72736 15.647L3.77006 16.2061L1.79481 14.2309L2.35395 12.2736H3.429L4.1341 13.6838C4.17364 13.7629 4.23796 13.8272 4.31708 13.8668L5.72732 14.5719V15.647H5.72736ZM6.54556 14.9742V14.319C6.54556 14.164 6.45808 14.0226 6.31944 13.9531L5.19058 13.3888L13.0526 5.52682L14.5585 7.03268L6.54556 14.9742ZM16.9433 4.66908L15.1395 6.45678L11.5441 2.8614L13.3307 1.05881C13.6399 0.749578 14.1784 0.749578 14.4876 1.05881L16.9422 3.51334C17.0967 3.66794 17.1819 3.87328 17.1819 4.09181C17.1819 4.31034 17.0967 4.51567 16.9433 4.66908Z" fill="#2ECC71"/>
                                                        </svg>
                                                </button>
                                                   
                                                </td>
                                            </tr>


                                        </tbody>

                                    </table>
                                </div>

                            </div>
                            <!-- <div class="apxtable_pagination_wrapper">
                                <div class="apxtable_pagelist">
                                  
                                </div>
                                <div class="apxtable_pagination"> -->
                               
                                    <pagination-controls (pageChange)="p = $event" id="first"></pagination-controls>
                                        
                                <!-- </div>
                            </div> -->
                        </div>
                        <!--  end Approval list tab -->

                        <!-- Rejected list tab -->
                        <div class="tab-pane fade" id="exchange-fields" role="tabpanel" aria-labelledby="rejected-list-tab">
                            <div class="custom-fields-hd-g">
                                <div class="cst-left-g">
                                    <input type="text" class="peak-search-bx peak-box-g"  [(ngModel)]="searchText" (input)="onSearch(searchText)" placeholder="Search...">
                                </div>
                                <div class="cst-rgt-g">
                                 
                                    <button class="add-cont-fi-g" data-toggle="modal" data-target="#add-ex">ADD EXCHANGE FIELD</button>
                                </div>
                            </div>
                            <div class="apxtable_grid_table manage-employee-tb">
                                <div class="table-responsive apx-responsive table-responsive-realest">
                                  <table class="table peak-table mb-0" id="manage-emp-table">
                                    <thead>
                                        <tr>
                                            <th [class.active]="order === 'userid'" (click)="setOrder('userid')">Column Field
                                                <span [hidden]="reverse"><img src="../../../assets/images/sort.png"></span>
                                                <span [hidden]="!reverse"><img src="../../../assets/images/sort.png"></span>
                                            </th>
                                            <th [class.active]="order === 'userid'" (click)="setOrder('userid')">Type
                                                <span [hidden]="reverse"><img src="../../../assets/images/sort.png"></span>
                                                <span [hidden]="!reverse"><img src="../../../assets/images/sort.png"></span>
                                            </th>
                                            <th [class.active]="order === 'userid'" (click)="setOrder('userid')">Enable/Disable
                                            </th>
                                            <th [class.active]="order === 'userid'" (click)="setOrder('userid')">Actions
                                            </th>
                    
                                        </tr>
                                    </thead>
                                    <tbody>
                                      <tr *ngFor="let leadlist of Customexchangefield | paginate: { itemsPerPage: 5, currentPage: p2, id: 'second' }">
                                        <td>{{leadlist.customFieldName}}</td>
                                        <td>{{leadlist.typeName}}</td>
                    
                                        <td><label class="switch"><input  type="checkbox" [checked]="leadlist.isActive === 1" (change)="ActiveInactive(leadlist.customFieldId)"><span class="slider round"></span></label></td>
                                        <td>
                                            <button (click)="getid(leadlist.customFieldId)"  data-toggle="modal" data-target="#add-contact-field-modal" class="edit-btn-g">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                                                <path d="M17.5206 2.92207L15.0661 0.465466C14.4477 -0.153498 13.3718 -0.154687 12.751 0.466655L1.75512 11.571C1.70638 11.6202 1.67121 11.6806 1.65203 11.7469L0.0157015 17.479C-0.0250667 17.6218 0.0148962 17.7757 0.119981 17.8809C0.197874 17.9589 0.302153 18.0009 0.409232 18.0009C0.446779 18.0009 0.484747 17.9956 0.521488 17.9853L6.24872 16.3475C6.31503 16.3283 6.37535 16.2931 6.42448 16.2443L17.5206 5.23796C17.8298 4.92849 18 4.51744 18 4.08003C18 3.64263 17.8298 3.23153 17.5206 2.92207ZM10.9683 3.44247L12.4741 4.94832L4.61212 12.8104L4.04788 11.6815C3.97835 11.5429 3.83695 11.4554 3.68193 11.4554H3.0268L10.9683 3.44247ZM1.00488 16.9961L1.53774 15.1308L2.87017 16.4632L1.00488 16.9961ZM5.72736 15.647L3.77006 16.2061L1.79481 14.2309L2.35395 12.2736H3.429L4.1341 13.6838C4.17364 13.7629 4.23796 13.8272 4.31708 13.8668L5.72732 14.5719V15.647H5.72736ZM6.54556 14.9742V14.319C6.54556 14.164 6.45808 14.0226 6.31944 13.9531L5.19058 13.3888L13.0526 5.52682L14.5585 7.03268L6.54556 14.9742ZM16.9433 4.66908L15.1395 6.45678L11.5441 2.8614L13.3307 1.05881C13.6399 0.749578 14.1784 0.749578 14.4876 1.05881L16.9422 3.51334C17.0967 3.66794 17.1819 3.87328 17.1819 4.09181C17.1819 4.31034 17.0967 4.51567 16.9433 4.66908Z" fill="#2ECC71"/>
                                                </svg>
                                        </button>
                                            
                                        </td>
                                      </tr>
                                     </tbody>
                                   </table>
                                </div>
                               </div>
                      
                              <div class="apxtable_pagination_wrapper mt-0">
                                <div class="apxtable_pagelist">
                                  
                                </div>
                                <div class="apxtable_pagination">
                                 
                                  <pagination-controls (pageChange)="p2 = $event" id="second"></pagination-controls>
                                </div>
                              </div>
                        </div>
                        <!-- end rejected  list tab -->
                    </div>

                    <!-- End Tab secction -->
                </div>
            </div>
        </div>

    </main>
</div>

<!--add contact field Modal -->
<div class="modal fade" id="add-contact-field-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header add-cnt-hedr-g">
                <h5 class="modal-title-g">Add Contact Field</h5>
                <button type="button" id="close-modal" (click)="close()" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <form (ngSubmit)=Customcontactform.form.valid&&addcustomcontact() #Customcontactform="ngForm">
                <div class="modal-inner-g">
                    <div class="row">
                        <div class="col-md-6 col-lg-6 col-sm-12 col-xs-2 md-peak-inn">
                            <label class="peak-form-label">Name<span class="c-red">*</span></label>
                            <input type="text" placeholder="" class="peak-box-g" [(ngModel)]="Customcontact.customFieldName" name="customFieldName" #customFieldName="ngModel" [ngClass]="{ 'is-invalid': Customcontactform.submitted && customFieldName.invalid }" required>
                        </div>
                        <div class="col-md-6 col-lg-6 col-sm-12 col-xs-2 md-peak-inn">
                            <label class="peak-form-label">Type<span class="c-red">*</span></label>
                            <select class="peak-box-g" [(ngModel)]="Customcontact.typeID" name="typeID" #typeID="ngModel" [ngClass]="{ 'is-invalid': Customcontactform.submitted && typeID.invalid }" required>
                        <option value="1">Text</option>
                        <option value="3">Integer</option>
                        <option value="4">Calendar</option>
                    </select>
                        </div>
                        
                    
                      

                        <div class="col-md-6 col-lg-6 col-sm-12 col-xs-2 md-peak-inn">
                            <label class="modal-form-label">Tooltip</label>
                        </div>
                        <div class="col-md-6 col-lg-6 col-sm-12 col-xs-2 md-peak-inn">
                            <input type="text" [(ngModel)]="Customcontact.toolTip" name="toolTip" #toolTip="ngModel" [ngClass]="{ 'is-invalid': Customcontactform.submitted && toolTip.invalid }" required class="peak-box-g" value="" placeholder="Description">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" (click)="addcustomcontact()"   class="md-save-btn">{{label}}</button>
                    <button type="button" class="md-cancel-btn" data-dismiss="modal">Cancel</button>
                </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!--add exchange field Modal -->
<div class="modal fade" id="add-ex" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header add-cnt-hedr-g">
                <h5 class="modal-title-g">Add Exchange Field</h5>
                <button type="button" id="close-modal" (click)="close()" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <form (ngSubmit)=Customcontactform.form.valid&&addcustomexchange() #Customcontactform="ngForm">
                <div class="modal-inner-g">
                    <div class="row">
                        <div class="col-md-6 col-lg-6 col-sm-12 col-xs-2 md-peak-inn">
                            <label class="peak-form-label">Name<span class="c-red">*</span></label>
                            <input type="text" placeholder="" class="peak-box-g" [(ngModel)]="Customcontact.customFieldName" name="customFieldName" #customFieldName="ngModel" [ngClass]="{ 'is-invalid': Customcontactform.submitted && customFieldName.invalid }" required>
                        </div>
                        <div class="col-md-6 col-lg-6 col-sm-12 col-xs-2 md-peak-inn">
                            <label class="peak-form-label">Type<span class="c-red">*</span></label>
                            <select class="peak-box-g" [(ngModel)]="Customcontact.typeID" name="typeID" #typeID="ngModel" [ngClass]="{ 'is-invalid': Customcontactform.submitted && typeID.invalid }" required>
                        <option value="1">Text</option>
                        <option value="3">Integer</option>
                        <option value="4">Calendar</option>
                    </select>
                        </div>
                        <div class="col-md-6 col-lg-6 col-sm-12 col-xs-2 md-peak-inn">
                            <label class="modal-form-label">Relinquish</label>
                        </div>
                        <div class="col-md-6 col-lg-6 col-sm-12 col-xs-2 md-peak-inn">
                            <div class="toggle-wrapper">
                                <input  class="toggle" type="checkbox" [(ngModel)]="Customcontact.isExchange" [checked]="Customcontact.isExchange === false"  name="isExchange" #isExchange="ngModel" [ngClass]="{ 'is-invalid': Customcontactform.submitted && isExchange.invalid }" required/>
                                <label for="example555" class="toggle--label"></label>
                                <div class="foux-toggle"></div>
                            </div>
                        </div>
                       
                      
                      

                        <div class="col-md-6 col-lg-6 col-sm-12 col-xs-2 md-peak-inn">
                            <label class="modal-form-label">Tooltip</label>
                        </div>
                        <div class="col-md-6 col-lg-6 col-sm-12 col-xs-2 md-peak-inn">
                            <input type="text" [(ngModel)]="Customcontact.toolTip" name="toolTip" #toolTip="ngModel" [ngClass]="{ 'is-invalid': Customcontactform.submitted && toolTip.invalid }" required class="peak-box-g" value="" placeholder="Description">
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" (click)="addcustomexchange()"   class="md-save-btn">{{label}}</button>
                    <button type="button" class="md-cancel-btn" data-dismiss="modal">Cancel</button>
                </div>
                </form>
            </div>
        </div>
    </div>

